Overview
========

.. image:: https://img.shields.io/badge/Reaktoro%20Tutorial-Interactive!-E66581.svg?logo=data:image/png;base64,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
   :target: https://mybinder.org/v2/gh/reaktoro/reaktoro-jupyter/master?filepath=tutorial%2Foverview.ipynb

Below is a quick overview of the chemical equilibrium and kinetics capabilities
of Reaktoro. Read this entire guide to learn more about what you can do with
Reaktoro!

Chemical Equilibrium
--------------------

Here is a simple C++ code using Reaktoro to perform a multiphase chemical
equilibrium calculation:

.. code-block:: c++

    #include <Reaktoro/Reaktoro.hpp>
    using namespace Reaktoro;

    int main()
    {
        ChemicalEditor editor;
        editor.addAqueousPhaseWithElementsOf("H2O NaCl CaCO3 CO2");
        editor.addGaseousPhase("CO2(g)");
        editor.addMineralPhase("Calcite");

        ChemicalSystem system(editor);

        EquilibriumProblem problem(system);
        problem.add("H2O", 1, "kg");
        problem.add("CO2", 1, "mol");
        problem.add("NaCl", 0.7, "mol");
        problem.add("CaCO3", 1, "g");

        ChemicalState state = equilibrate(problem);

        state.output("result.txt");
    }

This calculation could also be performed using Reaktoro's Python interface:

.. code-block:: python

    from reaktoro import *

    editor = ChemicalEditor()
    editor.addAqueousPhase('H2O NaCl CaCO3 CO2')
    editor.addGaseousPhase('CO2(g)')
    editor.addMineralPhase('Calcite')

    system = ChemicalSystem(editor)

    problem = EquilibriumProblem(system)
    problem.add('H2O', 1, 'kg')
    problem.add('CO2', 1, 'mol')
    problem.add('NaCl', 0.7, 'mol')
    problem.add('CaCO3', 1, 'g')

    state = equilibrate(problem)

    state.output('result.txt')

Chemical Kinetics
-----------------

Reaktoro can also perform chemical kinetic calculations with both
equilibrium-controlled and kinetically-controlled reactions. The C++ example
below demonstrate this for a simple mineral dissolution modeling, in which
CaCO3(s, calcite) reacts with a carbonated aqueous solution:

.. code-block:: c++

    #include <Reaktoro/Reaktoro.hpp>
    using namespace Reaktoro;

    int main()
    {
        ChemicalEditor editor;
        editor.addAqueousPhase("H2O CO2 CaCO3");
        editor.addMineralPhase("Calcite");

        MineralReaction reaction = editor.addMineralReaction("Calcite");
        reaction.setEquation("Calcite = Ca++ + CO3--");
        reaction.addMechanism("logk = -5.81 mol/(m2*s); Ea = 23.5 kJ/mol");
        reaction.addMechanism("logk = -0.30 mol/(m2*s); Ea = 14.4 kJ/mol; a[H+] = 1.0");
        reaction.setSpecificSurfaceArea(10, "cm2/g");

        ChemicalSystem system(editor);
        ReactionSystem reactions(editor);

        Partition partition(system);
        partition.setKineticSpecies({"Calcite"});

        EquilibriumProblem problem(system);
        problem.setPartition(partition);
        problem.setTemperature(60, "celsius");
        problem.setPressure(100, "bar");
        problem.add("H2O", 1, "kg");
        problem.add("CO2", 0.1, "mol");

        ChemicalState initialstate = equilibrate(problem);

        initialstate.setSpeciesMass("Calcite", 100, "g");

        KineticPath path(reactions);
        path.setPartition(partition);

        ChemicalPlot plot1 = path.plot();
        plot1.x("time(units=minute)");
        plot1.y("speciesMass(Calcite units=g)", "Calcite");
        plot1.xlabel("Time [minute]");
        plot1.ylabel("Mass [g]");

        ChemicalPlot plot2 = path.plot();
        plot2.x("time(units=minute)");
        plot2.y("pH");
        plot2.xlabel("Time [minute]");
        plot2.ylabel("pH");

        ChemicalPlot plot3 = path.plot();
        plot3.x("time(units=minute)");
        plot3.y("speciesMolality(Ca++ units=mmolal)", "Ca++");
        plot3.y("speciesMolality(HCO3- units=mmolal)", "HCO3-");
        plot3.xlabel("Time [minute]");
        plot3.ylabel("Concentration [mmolal]");

        path.solve(initialstate, 0, 5, "minute");
    }

When the application is executed, the following figures are produced:

.. thumbnail:: img/demo-kineticpath-mainpage-1.svg
    :width: 80%
    :align: center
.. thumbnail:: img/demo-kineticpath-mainpage-2.svg
    :width: 80%
    :align: center
.. thumbnail:: img/demo-kineticpath-mainpage-3.svg
    :width: 80%
    :align: center

In the example above, the mineral reaction is specified to be under kinetic
control and the aqueous species in chemical equilibrium at all times. As the
mineral dissolves, it perturbs the chemical equilibrium state of the aqueous
species. By assuming the aqueous species to be always in equilibrium, it is like
if they were capable of reacting instantaneously to a new state of equilibrium.
In general, the aqueous species react among themselves at much faster rates than
mineral dissolution reactions, and thus this *partial equilibrium assumption* is
plausible, and fairly accurate in most cases.
